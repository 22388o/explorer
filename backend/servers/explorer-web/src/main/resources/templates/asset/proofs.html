<!doctype html>
<html lang="en"
      layout:decorate="~{util/fragments/layouts/default_layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<!--/* =========================================================================================================== */-->
<div layout:fragment="content">

    <!--/* ======================================================================================================= */-->
    <!--/* Error management */-->

    <!--/* We have the "assetId" parameter but the asset was not found */-->
    <sl-alert open th:if="${!#strings.isEmpty(assetId) && result == null}" variant="danger">
        <sl-icon name="exclamation-octagon" slot="icon"></sl-icon>
        <strong th:text="#{generic.error}"></strong><br/>
        <div th:text="#{proof.view.error.assetNotFound(${assetId})}"></div>
    </sl-alert>

    <!--/* ======================================================================================================= */-->
    <!--/* Display result */-->

    <!--*/ Proofs viewer */-->
    <div class="head" th:if="${result != null && result.size != 0}">
        <!--*/ Header */-->
        <div class="tableHead">
            <h3 class="tableHeadDescription" th:text="#{proof.view.title(${assetId})}"></h3>
        </div>
        <!--/* Data */-->
        <div class="tableLines truncate" th:each="proof, iStat: ${result.content}">
            <div class="flex flex-col space-y-1 col-span-full mt-2 ml-2 mr-2 mb-2">
                <sl-textarea disabled="true"
                             rows="10"
                             th:id="@{'proof-' + ${iStat.index}}"
                             th:value="${proof.rawProof}">
                </sl-textarea>
                <sl-button outline
                           th:onClick="@{'copy(\'proof-' + ${iStat.index} + '\');'}"
                           th:text="#{proof.view.copyProof}"
                           variant="primary">
                </sl-button>
            </div>
        </div>
    </div>

</div>
<!-- =============================================================================================================== -->

</html>