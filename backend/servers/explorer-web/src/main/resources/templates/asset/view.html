<!doctype html>
<!--suppress XmlUnboundNsPrefix -->
<html lang="en"
      layout:decorate="~{util/fragments/layouts/default_layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<!--/* =========================================================================================================== */-->
<div layout:fragment="content" th:fragment="asset-view">

    <!--/* ======================================================================================================= */-->
    <!--/* Error management */-->
    <div class="errorManagement">

        <!--/* No value for the "assetId" parameter */-->
        <div th:if="${#strings.isEmpty(assetId)}"
             th:insert="~{util/fragments/components/error_message :: error_message(#{asset.view.error.noAssetId})}">
        </div>

        <!--/* We have the "assetId" parameter but the asset was not found */-->
        <div th:if="${!#strings.isEmpty(assetId) && result == null}"
             th:insert="~{util/fragments/components/error_message :: error_message(#{asset.view.error.assetNotFound(${assetId})})}">
        </div>

    </div>

    <!--/* ======================================================================================================= */-->
    <!--/* Display result */-->
    <div class="pt-12 w-4/5 mx-auto" th:if="${result != null}">

        <!--/* =================================================================================================== */-->
        <!--*/ Header showing asset name and asset id */-->
        <div class="md:flex md:items-center md:justify-between md:space-x-5">
            <div class="flex items-start space-x-5">
                <div class="flex-shrink-0">
                    <div class="relative">
                        <img alt=""
                             class="h-16 w-16"
                             th:src="@{/svg/coin.svg}">
                        <span aria-hidden="true" class="absolute inset-0 rounded-full shadow-inner"></span>
                    </div>
                </div>
                <div class="pt-1.5">
                    <h1 class="text-2xl font-bold text-gray-900" th:text="${result.name}"></h1>
                    <p class="text-sm font-medium text-gray-500" th:text="${result.assetId}"></p>
                </div>
            </div>
            <div class="mt-6 flex flex-col-reverse justify-stretch space-y-4 space-y-reverse sm:flex-row-reverse sm:justify-end sm:space-x-3 sm:space-y-0 sm:space-x-reverse md:mt-0 md:flex-row md:space-x-3">
                <a class="whiteButton"
                   hx-push-url="true"
                   hx:get="|/asset/${result.assetId}/proofs|"
                   hx:target="|#content|"
                   th:href="@{'/asset/' + ${result.assetId} + '/proofs'}"
                   th:text="#{asset.view.proofs}"></a>
            </div>
        </div>

        <!--/* =================================================================================================== */-->
        <!--*/ Tabs navigation */-->
        <div class="border-b border-gray-200" x-data="{ activeTab: 1 }">

            <!--/* =============================================================================================== */-->
            <!--*/ Tabs navigation */-->
            <nav aria-label="Tabs" class="-mb-px flex space-x-8">
                <label :class="{ 'selectedTab': activeTab === 1 }"
                       @click="activeTab = 1"
                       class="tab" th:text="#{asset.view.tabs.assetGenesis}"></label>
                <label :class="{ 'selectedTab': activeTab === 2 }"
                       @click="activeTab = 2"
                       class="tab" th:text="#{asset.view.tabs.owner}">></label>
                <label :class="{ 'selectedTab': activeTab === 3 }"
                       @click="activeTab = 3"
                       class="tab" th:text="#{asset.view.tabs.assetGroup}">></label>
                <label :class="{ 'selectedTab': activeTab === 4 }"
                       @click="activeTab = 4"
                       class="tab" th:text="#{asset.view.tabs.chainAnchors}">></label>
                <label :class="{ 'selectedTab': activeTab === 5 }"
                       @click="activeTab = 5"
                       class="tab" th:text="#{asset.view.tabs.proofs}">></label>
            </nav>
            <!--/* =============================================================================================== */-->

            <!--/* =============================================================================================== */-->
            <!--*/ Asset genesis tab */-->
            <div :class="{ 'active': activeTab === 1 }" class="px-6 py-4"
                 x-show="activeTab === 1">
                <div class="overflow-hidden shadow sm:rounded-lg">
                    <div class="border-t border-gray-100">
                        <dl class="divide-y divide-gray-100">

                            <!--/* Asset ID */-->
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.assetId}"></dt>
                                <dd class="tableLineValue" th:text="${result.assetId}"></dd>
                            </div>

                            <!--/* Asset name */-->
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.name}"></dt>
                                <dd class="tableLineValue" th:text="${result.name}"></dd>
                            </div>

                            <!--/* Genesis point */-->
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.genesisPoint}"></dt>
                                <dd class="tableLineValue"
                                    th:text="${result.genesisPoint.txId} + ':' + ${result.genesisPoint.vout}"></dd>
                            </div>

                            <!--/* Metadata hash */-->
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.metaDataHash}"></dt>
                                <dd class="tableLineValue" th:text="${result.getMetaDataHash}"></dd>
                            </div>

                            <!--/* Taproot assets output index */-->
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.outputIndex}"></dt>
                                <dd class="tableLineValue" th:text="${result.outputIndex}"></dd>
                            </div>

                            <!--/* Asset type */-->
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.assetType}"></dt>
                                <dd class="tableLineValue" th:if="${#strings.equals(result.type, 'NORMAL')}"
                                    th:text="#{field.asset.assetType.normal}"></dd>
                                <dd class="tableLineValue" th:if="${#strings.equals(result.type, 'COLLECTIBLE')}"
                                    th:text="#{field.asset.assetType.collectible}"></dd>
                            </div>

                        </dl>
                    </div>
                </div>
            </div>
            <!--/* =============================================================================================== */-->

            <!--/* =============================================================================================== */-->
            <!--*/ Owner tab */-->
            <div :class="{ 'active': activeTab === 2 }" class="px-6 py-4"
                 x-show="activeTab === 2">
                <p th:text="#{asset.view.tabs.owner.explanation}"></p>
            </div>
            <!--/* =============================================================================================== */-->

            <!--/* =============================================================================================== */-->
            <!--*/ Asset group tab */-->
            <div :class="{ 'active': activeTab === 3 }" class="px-6 py-4"
                 x-show="activeTab === 3">
                <div class="overflow-hidden shadow sm:rounded-lg">
                    <div class="border-t border-gray-100">
                        <dl class="divide-y divide-gray-100">

                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.rawGroupKey}"></dt>
                                <dd class="tableLineValue" th:text="${result.rawGroupKey}"></dd>
                            </div>
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.tweakedGroupKey}"></dt>
                                <dd class="tableLineValue" th:text="${result.tweakedGroupKey}"></dd>
                            </div>
                            <div class="tableLine">
                                <dt class="tableLineDescription" th:text="#{field.asset.assetIdSig}"></dt>
                                <dd class="tableLineValue" th:text="${result.assetIdSig}"></dd>
                            </div>
                        </dl>
                    </div>
                </div>
            </div>
            <!--/* =============================================================================================== */-->

            <!--/* =============================================================================================== */-->
            <!--*/ Chain anchors tab */-->
            <div :class="{ 'active': activeTab === 4 }" class="px-6 py-4"
                 x-show="activeTab === 4">
                <p>Chain anchors tab.</p>
            </div>
            <!--/* =============================================================================================== */-->

            <!--/* =============================================================================================== */-->
            <!--*/ Proofs tab */-->
            <div :class="{ 'active': activeTab === 5 }" class="px-6 py-4"
                 x-show="activeTab === 5">
                <p>Proofs tab.</p>
            </div>
            <!--/* =============================================================================================== */-->
        </div>

    </div>

</div>
<!-- =============================================================================================================== -->

</html>