<!doctype html>
<html lang="en"
      layout:decorate="~{fragments/layouts/default_layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<!-- =============================================================================================================== -->
<div class="flex flex-col h-screen items-center" layout:fragment="content">

    <!-- Search form -->
    <div th:insert="fragments/components/search_asset_form"></div>

    <!-- No value for the "query" parameter -->
    <div    th:if="${#strings.isEmpty(query)}"
            class="mt-11 bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 min-w-[50%]"
            role="alert">
        <p class="font-bold" th:text="#{generic.error}"></p>
        <p th:text="#{search.error.noQuery}"></p>
    </div>


    <!-- If no result -->
    <div    th:if="${result != null && result.content.isEmpty()}"
            class="mt-11 bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 min-w-[50%]"
            role="alert">
        <p class="font-bold" th:text="#{generic.error}"></p>
        <p th:text="#{search.noResult(${query})}"></p>
    </div>

    <!-- Results -->
    <div class="mt-11" th:if="${result != null}">

        <!-- If there are results - Display results -->
        <div th:each="asset: ${result.content}">

            <!-- One line -->
            <div class="mb-5 mt-5">
                <h2 class="text-gray-900 text-xl leading-tight font-medium mb-2" th:text="${asset.name}"></h2>
                <p class="text-gray-700 text-base mb-4 truncate md:text-clip">
                <p class="truncate" th:text="@{'Asset id: ' + ${asset.assetId}}"></p>
                <p class="truncate" th:text="@{'Creator: ' + ${asset.creator.username}}"></p>
                <p class="truncate" th:text="@{'Genesis point: ' + ${asset.genesisPoint}}"></p>
            </div>

        </div>

        <!-- If there are results - Display pages -->
        <div class=" mb-12" th:if="${result != null}">
            <ul class="inline-flex items-center -space-x-px mb-12" th:if="${!result.content.isEmpty()}">
                <!-- Page list (current and other -->
                <li th:each="pageNumber: ${#numbers.sequence(1, result.totalPages)}">

                    <a href="#"
                       th:if="${page == pageNumber}"
                       th:text="${pageNumber}"
                       aria-current="page"
                       class="px-3 py-2 text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white">3</a>

                    <a th:href="@{'/search?query=' + ${query} + '&page=' + ${pageNumber}}"
                       th:if="${page != pageNumber}"
                       th:text="${pageNumber}"
                       class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"></a>

                </li>
            </ul>
        </div>

    </div>

</div>
<!-- =============================================================================================================== -->

</html>